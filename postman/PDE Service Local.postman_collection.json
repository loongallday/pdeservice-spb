{
	"info": {
		"_postman_id": "pde-service-local-001",
		"name": "PDE Service - Local Development",
		"description": "Complete API collection for testing PDE Service Edge Functions locally",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "üîß Setup - Create Admin User",
			"item": [
				{
					"name": "Step 1: Create Super Admin Role (via REST API)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    let roleId;",
									"    if (Array.isArray(jsonData) && jsonData.length > 0) {",
									"        roleId = jsonData[0].id;",
									"    } else if (jsonData.id) {",
									"        roleId = jsonData.id;",
									"    }",
									"    if (roleId) {",
									"        pm.environment.set('superAdminRoleId', roleId);",
									"        console.log('‚úÖ Super admin role created!');",
									"        console.log('Role ID:', roleId);",
									"    }",
									"} else if (pm.response.code === 409) {",
									"    // Role already exists, fetch it",
									"    console.log('Role already exists, fetching...');",
									"    pm.sendRequest({",
									"        url: pm.environment.get('baseUrl') + '/rest/v1/roles?code=eq.SUPER_ADMIN',",
									"        method: 'GET',",
									"        header: {",
									"            'apikey': pm.environment.get('serviceRoleKey'),",
									"            'Authorization': 'Bearer ' + pm.environment.get('serviceRoleKey')",
									"        }",
									"    }, function (err, res) {",
									"        if (res && res.json && res.json.length > 0) {",
									"            pm.environment.set('superAdminRoleId', res.json[0].id);",
									"            console.log('‚úÖ Found existing role ID:', res.json[0].id);",
									"        }",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{serviceRoleKey}}",
								"type": "text",
								"description": "Use service role key to bypass RLS"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{serviceRoleKey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Prefer",
								"value": "return=representation",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"SUPER_ADMIN\",\n  \"name_th\": \"‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î\",\n  \"name_en\": \"Super Administrator\",\n  \"description\": \"Super administrator with full system access (level 10)\",\n  \"level\": 10,\n  \"is_active\": true,\n  \"requires_auth\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/rest/v1/roles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"rest",
								"v1",
								"roles"
							]
						},
						"description": "Creates super admin role. Uses Supabase REST API with service role key to bypass RLS.\n\n**Requires**: {{serviceRoleKey}} - Get from `supabase status`\n\n**Auto-sets**: {{superAdminRoleId}} from response\n\n**Note**: If role already exists (409), automatically fetches existing role ID."
					},
					"response": []
				},
				{
					"name": "Step 2: Create Admin Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (Array.isArray(jsonData) && jsonData.length > 0) {",
									"        pm.environment.set('adminEmployeeId', jsonData[0].id);",
									"        pm.environment.set('adminRoleId', jsonData[0].role_id);",
									"        console.log('‚úÖ Admin employee created!');",
									"        console.log('Employee ID:', jsonData[0].id);",
									"        console.log('Role ID:', jsonData[0].role_id);",
									"    } else if (jsonData.id) {",
									"        pm.environment.set('adminEmployeeId', jsonData.id);",
									"        pm.environment.set('adminRoleId', jsonData.role_id);",
									"        console.log('‚úÖ Admin employee created!');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"ADMIN001\",\n  \"name\": \"System Administrator\",\n  \"nickname\": \"Admin\",\n  \"email\": \"{{adminEmail}}\",\n  \"role_id\": \"{{superAdminRoleId}}\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees"
							]
						},
						"description": "Creates admin employee. Requires level 2+ auth.\n\n**Prerequisites**:\n- Super admin role must exist (run Step 1 or seed.sql)\n- Set {{superAdminRoleId}} variable from Step 1 response\n- Set {{adminEmail}} in environment"
					},
					"response": []
				},
				{
					"name": "Step 3: Create Auth User (Supabase Auth)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('adminAuthUserId', jsonData.user.id);",
									"    console.log('‚úÖ Auth user created!');",
									"    console.log('Auth User ID:', jsonData.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{serviceRoleKey}}",
								"type": "text",
								"description": "Use service role key for admin operations"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\",\n  \"email_confirm\": true,\n  \"user_metadata\": {\n    \"role\": \"super_admin\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/v1/admin/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"v1",
								"admin",
								"users"
							]
						},
						"description": "Creates auth user via Supabase Admin API.\n\n**Requires**: Service role key ({{serviceRoleKey}})\n\n**Sets**: {{adminAuthUserId}} from response"
					},
					"response": []
				},
				{
					"name": "Step 4: Link Auth to Employee",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/{{adminEmployeeId}}/link-auth",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								"{{adminEmployeeId}}",
								"link-auth"
							]
						},
						"description": "Links the auth user to the employee record.\n\n**Prerequisites**:\n- Admin employee created (Step 2)\n- Auth user created (Step 3)\n- {{adminEmployeeId}} and {{adminAuthUserId}} set\n\n**Note**: This endpoint creates the auth user if it doesn't exist, or links existing one."
					},
					"response": []
				},
				{
					"name": "Alternative: Link Existing Auth User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"auth_uid\": \"{{adminAuthUserId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/{{adminEmployeeId}}/link-existing-auth",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								"{{adminEmployeeId}}",
								"link-existing-auth"
							]
						},
						"description": "Links an existing auth user to employee.\n\nUse this if you already created the auth user manually or via Supabase Dashboard."
					},
					"response": []
				},
				{
					"name": "Verify Admin User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/network-search?q=ADMIN001",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								"network-search"
							],
							"query": [
								{
									"key": "q",
									"value": "ADMIN001",
									"description": "Text search (searches name and email)"
								}
							]
						},
						"description": "Verifies the admin user was created and linked correctly.\n\nShould return employee with:\n- code: ADMIN001\n- auth_user_id: set (not null)\n- role_id: pointing to SUPER_ADMIN role\n- role level: 10"
					},
					"response": []
				}
			],
			"description": "Complete setup flow to create a super admin user.\n\n**Recommended Approach**:\n1. Run `supabase/seed.sql` first (creates role + employee)\n2. Use Step 3 to create auth user\n3. Use Step 4 to link auth to employee\n\n**Alternative (API-only)**:\n1. Step 1: Create role (requires service role key)\n2. Step 2: Create employee (requires level 2+ auth)\n3. Step 3: Create auth user\n4. Step 4: Link auth to employee"
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Sign In",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('accessToken', jsonData.access_token);",
									"    console.log('‚úÖ Access token saved to environment!');",
									"    console.log('Token:', jsonData.access_token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/v1/token?grant_type=password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"v1",
								"token"
							],
							"query": [
								{
									"key": "grant_type",
									"value": "password"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/auth/v1/user",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"v1",
								"user"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Initialize",
			"item": [
				{
					"name": "Initialize App",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-initialize",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-initialize"
							]
						},
						"description": "Returns all initial data needed to bootstrap the application:\n\n**Returns:**\n- `employee`: Current user's full employee data with role and department\n- `roles`: All roles in the system\n- `departments`: All departments in the system\n- `features`: Enabled features filtered by employee level and role\n\n**Use Case:**\nCall this endpoint once when the app starts to get all essential data in a single request.\n\n**Requires:** Authentication (Bearer token)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Employees",
			"item": [
				{
					"name": "Network Search Employees",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/network-search?q=john&page=1&limit=20&role=admin&department_id=123e4567-e89b-12d3-a456-426614174000&is_active=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								"network-search"
							],
							"query": [
								{
									"key": "q",
									"value": "john",
									"description": "Text search (searches name and email)"
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Items per page (default: 20, max: 100)"
								},
								{
									"key": "role",
									"value": "admin",
									"description": "Filter by role code (exact match)"
								},
								{
									"key": "department_id",
									"value": "123e4567-e89b-12d3-a456-426614174000",
									"description": "Filter by department ID (UUID)"
								},
								{
									"key": "is_active",
									"value": "true",
									"description": "Filter by active status (true/false)"
								}
							]
						},
						"description": "Network search employees - Network user search API for employee management. Supports text search (name, email) and network-relevant filters (department, role, active status). Supports pagination. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Employee Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/employee-summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								"employee-summary"
							]
						},
						"description": "Get employee summary with minimal fields (id, name, email, role_name, is_link_auth). Only active employees. No pagination. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Employee by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{adminEmployeeId}}"
								}
							]
						},
						"description": "Get a single employee by ID. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Create Employee",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"emp_code\": \"EMP001\",\n  \"name_th\": \"‡∏à‡∏≠‡∏´‡πå‡∏ô ‡πÇ‡∏î\",\n  \"name_en\": \"John Doe\",\n  \"nickname\": \"John\",\n  \"level\": 0,\n  \"role_id\": \"uuid-here\",\n  \"department_id\": \"uuid-here\",\n  \"status\": \"active\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees"
							]
						},
						"description": "Create a new employee. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Update Employee",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name_th\": \"‡∏à‡∏≠‡∏´‡πå‡∏ô ‡πÇ‡∏î (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)\",\n  \"name_en\": \"John Doe (Updated)\",\n  \"level\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{adminEmployeeId}}"
								}
							]
						},
						"description": "Update an employee. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Link Auth to Employee",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"secure-password\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id/link-auth",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id",
								"link-auth"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{adminEmployeeId}}"
								}
							]
						},
						"description": "Link auth account to employee. Creates auth user if it doesn't exist, or links existing one. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Link Existing Auth to Employee",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"auth_uid\": \"uuid-of-existing-auth-user\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id/link-existing-auth",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id",
								"link-existing-auth"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{adminEmployeeId}}"
								}
							]
						},
						"description": "Link an existing auth user to employee. Use this if you already created the auth user manually or via Supabase Dashboard. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Unlink Auth from Employee",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id/unlink-auth",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id",
								"unlink-auth"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{adminEmployeeId}}"
								}
							]
						},
						"description": "Unlink auth account from employee. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Delete Employee",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-employees/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete an employee. Requires level 3+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Tickets",
			"item": [
				{
					"name": "Create Master Ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticketData\": {\n    \"company_id\": \"uuid-here\",\n    \"site_id\": \"uuid-here\",\n    \"work_type_id\": \"uuid-here\",\n    \"description\": \"Master ticket with all related data\"\n  },\n  \"employeeIds\": [\"employee-uuid-1\", \"employee-uuid-2\"],\n  \"merchandiseIds\": [\"merchandise-uuid-1\", \"merchandise-uuid-2\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/master",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								"master"
							]
						},
						"description": "Create a ticket with all related data (employees and merchandise) in a single request. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Update Master Ticket",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticketData\": {\n    \"description\": \"Updated description\"\n  },\n  \"employeeIds\": [\"employee-uuid-1\"],\n  \"merchandiseIds\": [\"merchandise-uuid-1\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/master/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								"master",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update ticket with all related data (employees and merchandise) in a single request. employeeIds and merchandiseIds replace all existing associations."
					},
					"response": []
				},
				{
					"name": "Delete Master Ticket",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/master/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								"master",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a ticket and all its related data (employee assignments, merchandise links, appointments, work results). Requires level 2+."
					},
					"response": []
				},
				{
					"name": "List Tickets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Ticket by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"company_id\": \"uuid-here\",\n  \"site_id\": \"uuid-here\",\n  \"work_type_id\": \"uuid-here\",\n  \"description\": \"Test ticket description\",\n  \"priority\": \"normal\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Ticket",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticketData\": {\n    \"description\": \"Updated description\",\n    \"status_id\": \"uuid-here\"\n  },\n  \"employeeIds\": [\"employee-uuid-1\", \"employee-uuid-2\"],\n  \"merchandiseIds\": [\"merchandise-uuid-1\", \"merchandise-uuid-2\"]\n}"
						},
						"description": "Update ticket data, employee assignments, and/or merchandise associations. employeeIds and merchandiseIds replace all existing associations (not append). Omit fields to keep existing associations.",
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Ticket",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List Merchandise for Ticket",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id/merchandise",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id",
								"merchandise"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here",
									"description": "Ticket ID"
								}
							]
						},
						"description": "Get all merchandise linked to a specific ticket. Merchandise must be in the same site as the ticket."
					},
					"response": []
				},
				{
					"name": "Add Merchandise to Ticket",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"merchandise_id\": \"uuid-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id/merchandise",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id",
								"merchandise"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here",
									"description": "Ticket ID"
								}
							]
						},
						"description": "Link merchandise to a ticket. The merchandise must be in the same site as the ticket. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Remove Merchandise from Ticket",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-tickets/:id/merchandise/:merchandiseId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-tickets",
								":id",
								"merchandise",
								":merchandiseId"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here",
									"description": "Ticket ID"
								},
								{
									"key": "merchandiseId",
									"value": "uuid-here",
									"description": "Merchandise ID"
								}
							]
						},
						"description": "Unlink merchandise from a ticket. Requires level 1+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Companies",
			"item": [
				{
					"name": "Search Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/search?q=test",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "test"
								}
							]
						},
						"description": "Search companies by name or tax ID"
					},
					"response": []
				},
				{
					"name": "Get Recent Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/recent?limit=5",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								"recent"
							],
							"query": [
								{
									"key": "limit",
									"value": "5"
								}
							]
						},
						"description": "Get recently created companies. Default limit is 5."
					},
					"response": []
				},
				{
					"name": "List Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Company by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "tax-id-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Find or Create Company",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tax_id\": \"1234567890123\",\n  \"name_th\": \"‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏à‡∏≥‡∏Å‡∏±‡∏î\",\n  \"name_en\": \"Test Company Ltd.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/find-or-create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								"find-or-create"
							]
						},
						"description": "Find an existing company by tax_id or create a new one if not found. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Create Company",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tax_id\": \"1234567890123\",\n  \"name_th\": \"‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏à‡∏≥‡∏Å‡∏±‡∏î\",\n  \"name_en\": \"Test Company Ltd.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies"
							]
						},
						"description": "Create a new company. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Update Company",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name_th\": \"‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)\",\n  \"name_en\": \"Test Company Ltd. (Updated)\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/:taxId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								":taxId"
							],
							"variable": [
								{
									"key": "taxId",
									"value": "1234567890123"
								}
							]
						},
						"description": "Update a company. Uses tax_id as identifier. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Company",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-companies/:taxId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-companies",
								":taxId"
							],
							"variable": [
								{
									"key": "taxId",
									"value": "1234567890123"
								}
							]
						},
						"description": "Delete a company. Uses tax_id as identifier. Requires level 1+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Sites",
			"item": [
				{
					"name": "Search Sites",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/search?q=test",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "test"
								}
							]
						},
						"description": "Search sites by name or address"
					},
					"response": []
				},
				{
					"name": "Get Recent Sites",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/recent",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								"recent"
							]
						},
						"description": "Get recently created sites"
					},
					"response": []
				},
				{
					"name": "List Sites",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Site by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Site",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test Site\",\n  \"company_id\": \"uuid-here\",\n  \"address_detail\": \"123 Test Street\",\n  \"safety_standard\": [\"safety_shoes\", \"safety_vest\", \"safety_helmet\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites"
							]
						},
						"description": "Create a new site. safety_standard is optional array of safety requirements."
					},
					"response": []
				},
				{
					"name": "Find or Create Site",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test Site\",\n  \"company_id\": \"uuid-here\",\n  \"address_detail\": \"123 Test Street\",\n  \"safety_standard\": [\"safety_shoes\", \"safety_vest\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/find-or-create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								"find-or-create"
							]
						},
						"description": "Find an existing site or create a new one if not found. Uses name, company_id, and subdistrict_code to match."
					},
					"response": []
				},
				{
					"name": "Update Site",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Site Name\",\n  \"address_detail\": \"Updated Address\",\n  \"safety_standard\": [\"safety_shoes\", \"safety_vest\", \"safety_helmet\", \"training\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here",
									"description": "Site ID"
								}
							]
						},
						"description": "Update an existing site. All fields are optional. To clear safety_standard, send null or empty array []."
					},
					"response": []
				},
				{
					"name": "Delete Site",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-sites/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-sites",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here",
									"description": "Site ID"
								}
							]
						},
						"description": "Delete a site. Requires level 1+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Contacts",
			"item": [
				{
					"name": "Search Contacts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts/search?q=test",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "test"
								}
							]
						},
						"description": "Search contacts by name, phone, or email"
					},
					"response": []
				},
				{
					"name": "Get Contacts by Site",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts/site/:siteId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts",
								"site",
								":siteId"
							],
							"variable": [
								{
									"key": "siteId",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get all contacts for a specific site"
					},
					"response": []
				},
				{
					"name": "List Contacts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Contact by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get a single contact by UUID"
					},
					"response": []
				},
				{
					"name": "Create Contact",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"site_id\": \"uuid-here\",\n  \"person_name\": \"John Doe\",\n  \"phone\": \"0812345678\",\n  \"email\": \"john@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts"
							]
						},
						"description": "Create a new contact. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Update Contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"person_name\": \"John Doe (Updated)\",\n  \"phone\": \"0812345679\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a contact. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Delete Contact",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-contacts/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-contacts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a contact. Requires level 2+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Departments",
			"item": [
				{
					"name": "Search Departments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments/search?q=technician&page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "technician",
									"description": "Search query (searches code, name_th, name_en)"
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Items per page (default: 50, max: 100)"
								}
							]
						},
						"description": "Search departments by code or name with pagination. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Department Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments/department-summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments",
								"department-summary"
							]
						},
						"description": "Get department summary with employee counts (total, active, inactive). Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Department by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get a single department by ID. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Create Department",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"SALES\",\n  \"name_th\": \"‡∏ù‡πà‡∏≤‡∏¢‡∏Ç‡∏≤‡∏¢\",\n  \"name_en\": \"Sales Department\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments"
							]
						},
						"description": "Create a new department. Requires level 3+ (Superadmin only)."
					},
					"response": []
				},
				{
					"name": "Update Department",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name_th\": \"‡∏ù‡πà‡∏≤‡∏¢‡∏Ç‡∏≤‡∏¢ (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)\",\n  \"name_en\": \"Sales Department (Updated)\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a department. Requires level 3+ (Superadmin only)."
					},
					"response": []
				},
				{
					"name": "Delete Department",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-departments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a department. Requires level 3+ (Superadmin only)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Roles",
			"item": [
				{
					"name": "Search Roles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles/search?q=manager&page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "manager",
									"description": "Search query (searches code, name_th, name_en)"
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Items per page (default: 50, max: 100)"
								}
							]
						},
						"description": "Search roles by code or name with pagination. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Role Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles/role-summary",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles",
								"role-summary"
							]
						},
						"description": "Get role summary with employee counts (total, active, inactive). Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Get Role by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Role",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"MANAGER\",\n  \"name_th\": \"‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£\",\n  \"name_en\": \"Manager\",\n  \"level\": 5\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles"
							]
						},
						"description": "Create a new role. Requires level 3+ (Superadmin only)."
					},
					"response": []
				},
				{
					"name": "Update Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name_th\": \"‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)\",\n  \"name_en\": \"Manager (Updated)\",\n  \"level\": 6\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a role. Requires level 3+ (Superadmin only)."
					},
					"response": []
				},
				{
					"name": "Delete Role",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-roles/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-roles",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a role. Requires level 3+ (Superadmin only)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Features",
			"item": [
				{
					"name": "Get Enabled Features",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-features",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-features"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Menu Items",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-features/menu",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-features",
								"menu"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Reference Data",
			"item": [
				{
					"name": "Get Work Types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-reference-data/work-types",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-reference-data",
								"work-types"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Ticket Statuses",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-reference-data/statuses",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-reference-data",
								"statuses"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Leave Types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-reference-data/leave-types",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-reference-data",
								"leave-types"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Provinces",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-reference-data/provinces",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-reference-data",
								"provinces"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Constants",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-reference-data/constants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-reference-data",
								"constants"
							]
						},
						"description": "Get all reference data constants (work types, statuses, leave types, provinces) in a single response"
					},
					"response": []
				}
			]
		},
		{
			"name": "Appointments",
			"item": [
				{
					"name": "Get Appointment by Ticket",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments/ticket/:ticketId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments",
								"ticket",
								":ticketId"
							],
							"variable": [
								{
									"key": "ticketId",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get appointment for a specific ticket"
					},
					"response": []
				},
				{
					"name": "List Appointments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Appointment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Appointment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticket_id\": \"uuid-here\",\n  \"appointment_date\": \"2025-01-01\",\n  \"appointment_time\": \"14:00:00\",\n  \"notes\": \"Test appointment\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments"
							]
						},
						"description": "Create a new appointment. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Update Appointment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"appointment_date\": \"2025-01-02\",\n  \"appointment_time\": \"15:00:00\",\n  \"notes\": \"Updated appointment\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update an appointment. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Delete Appointment",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-appointments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-appointments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete an appointment. Requires level 2+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Work Results",
			"item": [
				{
					"name": "Get Work Result by Ticket",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/ticket/:ticketId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"ticket",
								":ticketId"
							],
							"variable": [
								{
									"key": "ticketId",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get work result for a specific ticket"
					},
					"response": []
				},
				{
					"name": "Get Work Result by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Work Result",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ticket_id\": \"uuid-here\",\n  \"description\": \"Work completed successfully\",\n  \"result_note\": \"All tasks finished\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Work Result",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Updated work description\",\n  \"result_note\": \"Updated notes\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a work result. Requires level 0+ (all authenticated users)."
					},
					"response": []
				},
				{
					"name": "Add Photo to Work Result",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "work_result_id",
									"value": "uuid-here",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/photos",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"photos"
							]
						},
						"description": "Upload a photo to a work result. Requires multipart/form-data with work_result_id and file. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Photo",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/photos/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"photos",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a photo from a work result. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Add Document to Work Result",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "work_result_id",
									"value": "uuid-here",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/documents",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"documents"
							]
						},
						"description": "Upload a document to a work result. Requires multipart/form-data with work_result_id and file. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Document",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/documents/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"documents",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a document from a work result. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Add Document Page",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "document_id",
									"value": "uuid-here",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								},
								{
									"key": "page_number",
									"value": "1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/documents/pages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"documents",
								"pages"
							]
						},
						"description": "Add a page to a multi-page document. Requires multipart/form-data with document_id, file, and page_number. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Document Page",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/documents/pages/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								"documents",
								"pages",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a page from a document. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Work Result",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-work-results/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-work-results",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a work result. Requires level 0+ (all authenticated users)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Leave Requests",
			"item": [
				{
					"name": "List Leave Requests",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Leave Request by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Leave Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"leave_type_id\": \"uuid-here\",\n  \"start_date\": \"2025-01-01\",\n  \"end_date\": \"2025-01-02\",\n  \"reason\": \"Personal reasons\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Leave Request",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Updated reason\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a leave request. Can only update pending requests. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Approve Leave Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Approved\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id/approve",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id",
								"approve"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Approve a leave request. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Reject Leave Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Rejected due to insufficient leave balance\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id/reject",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id",
								"reject"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Reject a leave request. Requires level 2+."
					},
					"response": []
				},
				{
					"name": "Cancel Leave Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Cancelled by employee\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id",
								"cancel"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Cancel a leave request. Can only cancel pending requests. Requires level 1+."
					},
					"response": []
				},
				{
					"name": "Delete Leave Request",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-leave-requests/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-leave-requests",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a leave request. Requires level 2+."
					},
					"response": []
				}
			]
		},
		{
			"name": "Polls",
			"item": [
				{
					"name": "List Polls",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Poll by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Poll",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"question\": \"What's your favorite feature?\",\n  \"options\": [\n    {\"option_text\": \"Feature A\"},\n    {\"option_text\": \"Feature B\"}\n  ],\n  \"expires_at\": \"2025-12-31T23:59:59Z\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls"
							]
						}
					},
					"response": []
				},
				{
					"name": "Vote on Poll",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"option_id\": \"uuid-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls/:id/vote",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls",
								":id",
								"vote"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Vote on a poll. Requires level 0+."
					},
					"response": []
				},
				{
					"name": "Update Poll",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"question\": \"Updated question?\",\n  \"expires_at\": \"2025-12-31T23:59:59Z\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Update a poll. Requires level 0+ (all authenticated users)."
					},
					"response": []
				},
				{
					"name": "Delete Poll",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-polls/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-polls",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						},
						"description": "Delete a poll. Requires level 0+ (all authenticated users)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Merchandise",
			"item": [
				{
					"name": "List Merchandise",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "search",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Merchandise by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Merchandise by Site",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise/site/:siteId?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise",
								"site",
								":siteId"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							],
							"variable": [
								{
									"key": "siteId",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get all merchandise for a specific site"
					},
					"response": []
				},
				{
					"name": "Get Merchandise by Model",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise/model/:modelId?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise",
								"model",
								":modelId"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							],
							"variable": [
								{
									"key": "modelId",
									"value": "uuid-here"
								}
							]
						},
						"description": "Get all merchandise for a specific model"
					},
					"response": []
				},
				{
					"name": "Create Merchandise",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"serial_no\": \"SN12345\",\n  \"model_id\": \"uuid-here\",\n  \"site_id\": \"uuid-here\",\n  \"pm_count\": 10,\n  \"distributor_id\": \"tax-id-here\",\n  \"dealer_id\": \"tax-id-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Merchandise",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pm_count\": 15,\n  \"dealer_id\": \"tax-id-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Merchandise",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-merchandise/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-merchandise",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Models",
			"item": [
				{
					"name": "List Models",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "search",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Model by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Model by Code",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models/model/:model",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models",
								"model",
								":model"
							],
							"variable": [
								{
									"key": "model",
									"value": "MODEL-001"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Model",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model\": \"MODEL-001\",\n  \"name\": \"Premium Machine Model 001\",\n  \"website_url\": \"https://manufacturer.com/products/model-001\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Model",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Model Name\",\n  \"website_url\": \"https://new-website.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Model",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-models/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-models",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PM Log",
			"item": [
				{
					"name": "List PM Logs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get PM Log by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get PM Logs by Merchandise",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog/merchandise/:merchandiseId?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog",
								"merchandise",
								":merchandiseId"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							],
							"variable": [
								{
									"key": "merchandiseId",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create PM Log",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"merchandise_id\": \"uuid-here\",\n  \"description\": \"‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î\",\n  \"performed_at\": \"2025-11-17T10:30:00Z\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update PM Log",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete PM Log",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pmlog/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pmlog",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PM Summary",
			"item": [
				{
					"name": "Get PM Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pm-summary?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pm-summary"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "site_id",
									"value": "",
									"disabled": true
								},
								{
									"key": "merchandise_id",
									"value": "",
									"disabled": true
								},
								{
									"key": "needs_renewal",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Merchandise Summary",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pm-summary/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pm-summary",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get PM Logs for Merchandise",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "apikey",
								"value": "{{apikey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/functions/v1/api-pm-summary/:merchandiseId/logs?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"functions",
								"v1",
								"api-pm-summary",
								":merchandiseId",
								"logs"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							],
							"variable": [
								{
									"key": "merchandiseId",
									"value": "uuid-here"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}

